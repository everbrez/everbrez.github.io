---
layout: post
title: react
date:   2019-02-17
categories: javascript
---

# MVC
[!](../assets/images/mvc.png)
model 用来封装与应用程序的业务逻辑相关的数据以及对数据的处理方法，会有一个或多个视图监听此模型。一旦模型的数据发生变化，模型将通知有关的视图。

view 视图，当模型发生变化的时候，视图相应得到刷新自己的机会

controller 定义用户界面对用户输入的相应方式，起到不同层面的组织作用，用于控制应用程序的流程，它处理用户行为和数据model的改变。

其中：view和model之间是观察者模式，view观察model，实现在model上注册，以便view可以了解在数据model上发生的改变
view和controller是策略模式，view可以使用controller的方法

# MVP
model view Presenter 为MVC的一种衍生模式

切入点：解决controller和view的捆绑关系，将其进行改造，使view不仅拥有UI组件的结构，还拥有处理用户事件的能力。此时view不能调用model的方法，所以只能让presenter取更新model，在通过观察者模式更新view。
相比与传统MVC，解耦了model和view，完全分离视图和模型，使职责划分更加清晰。可以将view抽象出来做成组件。

（controller可以在view中复用）
应用逻辑主要集中再presenter这一层中。缺点：手动更新

# MVVM
最重要的使数据绑定，data-binding。
view和model不知道彼此的存在，同MVP一样，将view和model清晰地分离开，如果viewmodel的属性值改变了，这些新值通过数据绑定自动传递给view，反过来，viewmodel会暴露model中数据和特定状态给view。

此时的model是单纯的数据，不包含对数据的操作

Vue双向数据绑定：通过Object.defineProperty来实现绑定
[vue](https://juejin.im/post/593021272f301e0058273468#heading-9)

# flux
Flux将一个应用分成四个组成部分：
- View：视图
- Action：一个对象，视图发出的信息，包含一个type以及数据
- Dispatcher：接收Actions，执行回调函数
- Store：数据层，用来存放应用状态，提醒Views更新页面

Predictable
特点：单项数据流动

## control view
用来保存状态，监听store的变化，然后数据转发给子组件。
子组件不包含所有的状态，为纯组件。

## dispatcher
将action派发到store，dispatcher只有一个，而且是全局的。

# Virtual DOM

# router control

# lifecycle

# communication

# HOC & mixins

# event